(this.webpackJsonpcatalog=this.webpackJsonpcatalog||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t),c.d(t,"Context",(function(){return C}));var n=c(1),s=c(8),a=c.n(s),i=(c(31),c(32),c(5)),r=c(11),d=c(10),u=c(0),l=Object(n.memo)((function(e){var t=e.brand,c=e.checkedBrand;return Object(u.jsx)("div",{className:"brand",children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"checkbox",name:"travel-notes",className:"real-checkbox",onClick:function(e){return c(e,t.id)}}),Object(u.jsx)("span",{className:"custom-checkbox"}),t.name]})})})),j=Object(d.a)((function(){var e=Object(n.useContext)(C).device,t=Object(n.useState)(e.price),c=Object(r.a)(t,2),s=c[0],a=c[1],d=Object(n.useCallback)((function(t,c){t.target.checked?e.setSelectedBrandId(c):e.delSelectedBrandId(c)}),[]);return Object(u.jsxs)("div",{className:"typeBar",children:[Object(u.jsxs)("div",{className:"count_device",children:["\u0422\u043e\u0432\u0430\u0440\u043e\u0432 ",e.devices.length]}),Object(u.jsx)("h1",{className:"type_device",children:"\u041a\u0430\u043c\u0435\u0440\u044b"}),Object(u.jsx)("h2",{className:"price",children:"\u0426\u0435\u043d\u0430, \u20bd"}),Object(u.jsxs)("div",{className:"inputBlock",children:[Object(u.jsx)("input",{type:"text",value:s.min,onChange:function(e){return a(Object(i.a)(Object(i.a)({},s),{},{min:e.target.value}))},onBlur:function(){return e.setPrice(s)}}),Object(u.jsx)("input",{type:"text",value:s.max,onChange:function(e){return a(Object(i.a)(Object(i.a)({},s),{},{max:e.target.value}))},onBlur:function(){return e.setPrice(s)}})]}),Object(u.jsx)("h2",{className:"brand_name",children:"\u0411\u0440\u044d\u043d\u0434"}),e.brands.map((function(e){return Object(u.jsx)(l,{brand:e,checkedBrand:d},e.id)}))]})})),o=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1];return c?Object(u.jsx)("button",{className:"heart heart_active",onClick:function(){return s(!c)}}):Object(u.jsx)("button",{className:"heart",onClick:function(){return s(!c)}})},b=Object(n.memo)((function(e){var t=e.device;return Object(u.jsxs)("div",{className:"device",children:[Object(u.jsxs)("div",{className:"device_photo",children:[Object(u.jsx)("img",{src:t.image.desktop.x1,alt:""}),t.is_new&&Object(u.jsx)("span",{className:"device_newDevice",children:"\u043d\u043e\u0432\u0438\u043d\u043a\u0430"})]}),Object(u.jsxs)("div",{className:"device_wrapper",children:[Object(u.jsx)("div",{className:"device_name",children:t.title}),Object(u.jsxs)("div",{className:"device_priceBlock",children:[Object(u.jsx)("div",{className:"device_price",children:t.price+" \u20bd"}),t.is_new&&Object(u.jsx)("div",{className:"device_new",children:"\u041d\u043e\u0432\u043e\u0435"})]}),Object(u.jsxs)("div",{className:"device_groupBtn",children:[Object(u.jsx)("button",{className:"device_btn",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),Object(u.jsx)(o,{})]})]})]})})),v=c(13),h=c.n(v),O=c(23),m=c(24),x=c.n(m).a.create({baseURL:"https://getlens-master.stage.dev.family/api/pages/obektivy"}),p=function(){var e=Object(O.a)(h.a.mark((function e(t,c,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("",{params:{"brands[]":t,"price[min]":c,"price[max]":n}});case 2:return s=e.sent,a=s.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),f=Object(d.a)((function(){var e=Object(n.useContext)(C).device;return Object(n.useEffect)((function(){try{p(e.selectedBrandId,e.price.min,e.price.max).then((function(t){return e.setDevices(t.products)})),e.setIsLoading(!1)}catch(t){console.log(t)}}),[e.selectedBrandId,e.price.min,e.price.max]),Object(u.jsx)("div",{className:"devices",children:e.devices.map((function(e){return Object(u.jsx)(b,{device:e},e.id)}))})})),_=function(){return Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)(j,{}),Object(u.jsx)(f,{})]})},k=function(){return Object(u.jsx)(_,{})},N=c(14),g=c(25),B=c(26),y=c(2),I=function(){function e(){Object(g.a)(this,e),this._devices=[],this._brands=[{id:1,name:"Canon"},{id:9,name:"Nikon"}],this._selectedBrandId=[],this._price={min:"0",max:"0"},Object(y.d)(this)}return Object(B.a)(e,[{key:"setDevices",value:function(e){this._devices=e}},{key:"setBrands",value:function(e){this._brands=e}},{key:"setSelectedBrandId",value:function(e){this._selectedBrandId=[].concat(Object(N.a)(this.selectedBrandId),[e])}},{key:"delSelectedBrandId",value:function(e){this._selectedBrandId=Object(N.a)(this.selectedBrandId.filter((function(t){return t!==e})))}},{key:"setPrice",value:function(e){this._price=e}},{key:"devices",get:function(){return this._devices}},{key:"brands",get:function(){return this._brands}},{key:"selectedBrandId",get:function(){return this._selectedBrandId}},{key:"price",get:function(){return this._price}}]),e}(),C=Object(n.createContext)(null);a.a.render(Object(u.jsx)(C.Provider,{value:{device:new I},children:Object(u.jsx)(k,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.60d3050b.chunk.js.map